### 07 测试、类型与代码质量

#### pytest 基本用法
```python
def test_healthz(client):
    r = client.get("/healthz")
    assert r.status_code == 200
```

#### 异步测试
```python
import pytest

@pytest.mark.anyio
async def test_async_case():
    ...
```

#### 类型与静态检查
- typing（TypedDict、Protocol、Literal）；
- mypy、ruff、black；

#### 覆盖率与CI
- pytest-cov 输出报告；GitHub Actions 门禁。


