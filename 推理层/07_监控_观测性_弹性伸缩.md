### 07 监控、观测性与弹性伸缩

本篇介绍可观测性体系、容量规划与自动扩缩。

#### 关键指标
- 性能：TTFT、TPOT（tokens/s）、P50/P95/P99延迟、GPU利用率、内存/显存使用率。
- 稳定：错误率、熔断率、重试率、超时与撤销。
- 业务：请求量、租户用量、成本（$/token、$/req）、A/B指标。

#### 监控与Tracing
- Metrics：Prometheus/OpenTelemetry；Dashboard：Grafana。
- Tracing：OpenTelemetry Trace，串联请求在接入/编排/推理服务各段耗时。
- 日志：结构化日志，支持重放与脱敏。

#### 弹性伸缩
- 触发：QPS、排队长度、GPU利用率、水位阈值；结合冷启动与预热策略。
- 策略：水平扩容副本、按模型/租户细粒度扩缩；分时调度节省夜间成本。

#### 容量规划
- 基于峰值与突发冗余；离线回放/仿真验证策略；压测驱动上线门禁。


